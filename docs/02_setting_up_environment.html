<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>02 Setting Up Environment - ComputoPermutoBook</title>
    <style>
/* ComputoPermutoBook Styling */
body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    line-height: 1.6;
    max-width: 900px;
    margin: 0 auto;
    padding: 20px;
    color: #333;
    background-color: #fff;
}

h1, h2, h3, h4, h5, h6 {
    color: #2c3e50;
    margin-top: 2em;
    margin-bottom: 0.5em;
}

h1 {
    border-bottom: 3px solid #3498db;
    padding-bottom: 0.3em;
}

h2 {
    border-bottom: 1px solid #bdc3c7;
    padding-bottom: 0.2em;
}

code {
    background-color: #f8f9fa;
    padding: 2px 4px;
    border-radius: 3px;
    font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace;
    font-size: 0.9em;
}

pre {
    background-color: #f8f9fa;
    border: 1px solid #e9ecef;
    border-radius: 5px;
    padding: 15px;
    overflow-x: auto;
    margin: 1em 0;
}

pre code {
    background: none;
    padding: 0;
    font-size: 0.85em;
}

.navigation {
    background-color: #ecf0f1;
    padding: 15px;
    border-radius: 5px;
    margin-bottom: 2em;
}

.navigation h3 {
    margin-top: 0;
    color: #2c3e50;
}

.navigation ul {
    list-style-type: none;
    padding-left: 0;
}

.navigation li {
    margin: 0.5em 0;
}

.navigation a {
    color: #3498db;
    text-decoration: none;
}

.navigation a:hover {
    text-decoration: underline;
}

table {
    border-collapse: collapse;
    width: 100%;
    margin: 1em 0;
}

th, td {
    border: 1px solid #bdc3c7;
    padding: 8px 12px;
    text-align: left;
}

th {
    background-color: #ecf0f1;
    font-weight: bold;
}

.footer {
    margin-top: 3em;
    padding-top: 2em;
    border-top: 1px solid #bdc3c7;
    text-align: center;
    color: #7f8c8d;
    font-size: 0.9em;
}

@media (max-width: 768px) {
    body {
        padding: 10px;
    }
    
    pre {
        padding: 10px;
        font-size: 0.8em;
    }
}
</style>
</head>
<body>
    
        <div class="navigation">
            <h3>üìñ Book Navigation</h3>
            <ul>
                <li><a href="01_why_transformation_matters.html">**Chapter 1: Why JSON Transformation Matters**</a></li>
<li><a href="02_setting_up_environment.html">**Chapter 2: Setting Up Your Environment**</a></li>
<li><a href="03_computo_basics.html">**Chapter 3: Computo Basics - Data and Logic**</a></li>
<li><a href="04_introduction_to_debugging.html">**Chapter 4: Introduction to Debugging**</a></li>
            </ul>
        </div>
        
    <main>
        <h2 id="chapter-2-setting-up-your-environment"><strong>Chapter 2: Setting Up Your Environment</strong></h2>
<h3 id="prerequisites">Prerequisites</h3>
<p>You will need a C++17 compatible compiler, CMake, and Git. The development headers for the <code>nlohmann/json</code> library are also required.</p>
<ul>
<li><strong>Compiler:</strong> GCC, Clang, or MSVC.</li>
<li><strong>CMake:</strong> Version 3.15 or later.</li>
<li><strong>Git:</strong> For cloning the repositories.</li>
<li><strong>Dependencies:</strong> <code>nlohmann/json</code> development files.</li>
</ul>
<p>On a Debian/Ubuntu-based system, you can install the necessary dependencies with:</p>
<pre><code class="language-bash">sudo apt-get update
sudo apt-get install build-essential cmake git nlohmann-json3-dev
</code></pre>
<h3 id="step-1-build-and-install-permuto">Step 1: Build and Install Permuto</h3>
<p>Computo uses Permuto for its powerful templating capabilities, so we must install it first.</p>
<p><strong>1a. Clone the Permuto Repository</strong></p>
<pre><code class="language-bash">git clone https://github.com/HarryPehkonen/Permuto.git
cd Permuto
</code></pre>
<p><strong>1b. Configure and Build</strong>
We'll create a <code>Release</code> build for optimal performance.</p>
<pre><code class="language-bash">cmake -B build -DCMAKE_BUILD_TYPE=Release
cmake --build build
</code></pre>
<p>This will compile the Permuto library and its own CLI tool.</p>
<p><strong>1c. Install Permuto</strong>
Now, install the library to a standard system location (typically <code>/usr/local/lib</code> and <code>/usr/local/include</code>). This step makes it discoverable by other projects, like Computo.</p>
<pre><code class="language-bash"># From within the 'Permuto' directory
sudo cmake --install build
</code></pre>
<p>With Permuto installed, your system is now ready to build Computo.</p>
<h3 id="step-2-build-computo">Step 2: Build Computo</h3>
<p>Now we'll repeat a similar process for the <code>computo</code> project.</p>
<p><strong>2a. Clone the Computo Repository</strong>
If you are still in the <code>Permuto</code> directory, navigate out of it first (<code>cd ..</code>).</p>
<pre><code class="language-bash">git clone https://github.com/HarryPehkonen/Computo.git
cd Computo
</code></pre>
<p><strong>2b. Configure and Build</strong>
CMake will now automatically find the Permuto library and headers you installed in the previous step.</p>
<pre><code class="language-bash">cmake -B build -DCMAKE_BUILD_TYPE=Release
cmake --build build
</code></pre>
<p>This command compiles the Computo library and the <code>computo</code> CLI tool. The final executable will be placed in the <code>build/</code> directory.</p>
<p><strong>2c. Install Computo</strong>
For convenience, install the <code>computo</code> CLI tool to a standard system location so you can run it from anywhere without specifying the full path.</p>
<pre><code class="language-bash"># From within the 'Computo' directory
sudo cmake --install build
</code></pre>
<p>Alternatively, for a stripped (smaller) binary:</p>
<pre><code class="language-bash">sudo cmake --install build --strip
</code></pre>
<p>This installs the <code>computo</code> executable to <code>/usr/local/bin</code> (or your system's standard binary location), making it available system-wide.</p>
<h3 id="step-3-verify-the-installation">Step 3: Verify the Installation</h3>
<p>You can verify that everything works by running the CLI tool or its test suite.</p>
<p><strong>To check the CLI:</strong>
If you installed computo system-wide, you can now run it from anywhere. Try running it with no arguments to see the usage message.</p>
<p>If you haven't installed it yet, you can still test it from the build directory.</p>
<p><strong>To run the test suite:</strong>
The project includes a comprehensive set of tests. Running them confirms that Computo, Permuto, and all operators are working correctly together on your system.</p>
<pre><code class="language-bash"># From within the 'Computo' directory
cd build
ctest --verbose
</code></pre>
<p>You should see output indicating that all tests have passed.</p>
<h3 id="your-workspace">Your Workspace</h3>
<p>You are now ready to start writing transformations. Your typical workflow will involve:</p>
<ol>
<li>Creating a <code>script.json</code> file containing your Computo logic.</li>
<li>Creating an <code>input.json</code> file with the data you want to transform.</li>
<li>Running the transformation from anywhere on your system (assuming you installed computo).</li>
</ol>
<p>In the next chapter, we will write our first Computo script and explore its fundamental concepts.</p>
<h2 id="hands-on-examples">üíª Hands-On Examples</h2>
<p>These examples demonstrate the debugging concepts covered in this chapter. Each example includes the complete script, expected output, and instructions for running it yourself.</p>
<h3 id="help-command">üîß Help Command</h3>
<p><strong>Purpose</strong>: Display help information to verify CLI is working</p>
<p><strong>Computo Script</strong>:</p>
<pre><code class="language-json">[
  &quot;obj&quot;,
  [
    &quot;message&quot;,
    &quot;Hello World&quot;
  ]
]
</code></pre>
<p><strong>How to Run</strong>:</p>
<pre><code class="language-bash"># Navigate to the example directory
cd code/ch02_setting_up_your_environment/general/help_command/

# Run the example
computo --help script.json

# Or use the provided script
./run.sh    # Linux/Mac
run.bat     # Windows
</code></pre>
<p><strong>Expected Output</strong>:</p>
<pre><code class="language-json">{
  &quot;message&quot;: &quot;Hello World&quot;
}
</code></pre>
<p><strong>üí° What to Learn</strong>: This example tests basic CLI functionality by showing help output</p>
<p><strong>üõ†Ô∏è CLI Flags Used</strong>:
- <code>--help</code>: --help</p>
<p><strong>üìÅ Download</strong>:
- <a href="code/ch02_setting_up_your_environment/general/help_command/">üìÇ This example's files</a>
- <a href="code/ch02_examples.zip">üì¶ Chapter 2 examples</a>
- <a href="download_all_examples.zip">üìö All book examples</a></p>
<hr />
<h3 id="version-check">üîß Version Check</h3>
<p><strong>Purpose</strong>: Check Computo version to verify installation</p>
<p><strong>Computo Script</strong>:</p>
<pre><code class="language-json">[
  &quot;obj&quot;,
  [
    &quot;status&quot;,
    &quot;installed&quot;
  ]
]
</code></pre>
<p><strong>How to Run</strong>:</p>
<pre><code class="language-bash"># Navigate to the example directory
cd code/ch02_setting_up_your_environment/general/version_check/

# Run the example
computo --version script.json

# Or use the provided script
./run.sh    # Linux/Mac
run.bat     # Windows
</code></pre>
<p><strong>Expected Output</strong>:</p>
<pre><code class="language-json">{
  &quot;status&quot;: &quot;installed&quot;
}
</code></pre>
<p><strong>üí° What to Learn</strong>: Verifies that computo command is available and shows version</p>
<p><strong>üõ†Ô∏è CLI Flags Used</strong>:
- <code>--version</code>: --version</p>
<p><strong>üìÅ Download</strong>:
- <a href="code/ch02_setting_up_your_environment/general/version_check/">üìÇ This example's files</a>
- <a href="code/ch02_examples.zip">üì¶ Chapter 2 examples</a>
- <a href="download_all_examples.zip">üìö All book examples</a></p>
<hr />
<h3 id="basic-usage">üîß Basic Usage</h3>
<p><strong>Purpose</strong>: Basic script execution to verify end-to-end functionality</p>
<p><strong>Computo Script</strong>:</p>
<pre><code class="language-json">[
  &quot;obj&quot;,
  [
    &quot;result&quot;,
    &quot;success&quot;
  ],
  [
    &quot;timestamp&quot;,
    [
      &quot;get&quot;,
      [
        &quot;$input&quot;
      ],
      &quot;/when&quot;
    ]
  ]
]
</code></pre>
<p><strong>Input Data</strong> (<code>input.json</code>):</p>
<pre><code class="language-json">{
  &quot;when&quot;: &quot;2024-01-01&quot;
}
</code></pre>
<p><strong>How to Run</strong>:</p>
<pre><code class="language-bash"># Navigate to the example directory
cd code/ch02_setting_up_your_environment/general/basic_usage/

# Run the example
computo --pretty=2 script.json input.json

# Or use the provided script
./run.sh    # Linux/Mac
run.bat     # Windows
</code></pre>
<p><strong>Expected Output</strong>:</p>
<pre><code class="language-json">&quot;success&quot;
</code></pre>
<p><strong>üí° What to Learn</strong>: Tests basic script execution with pretty-printed output</p>
<p><strong>üõ†Ô∏è CLI Flags Used</strong>:
- <code>--pretty=2</code>: Formats output with proper indentation for readability</p>
<p><strong>üìÅ Download</strong>:
- <a href="code/ch02_setting_up_your_environment/general/basic_usage/">üìÇ This example's files</a>
- <a href="code/ch02_examples.zip">üì¶ Chapter 2 examples</a>
- <a href="download_all_examples.zip">üìö All book examples</a></p>
<hr />
    </main>
    <div class="footer">
        <p>Generated from <strong>ComputoPermutoBook</strong> | <a href="index.html">üìñ Table of Contents</a></p>
    </div>
</body>
</html>